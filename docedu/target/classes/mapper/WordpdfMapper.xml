<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="wordpdf">
	<insert id="wordpdfinsert" parameterType="com.docedu.web.user.vo.WordpdfVO">
		insert into
			wordpdf(wpdf_header, wpdf_name, wpdf_class, wpdf_trans)
		values
		<foreach collection="list" item="item" separator=" , ">
			(#{item.wpdf_header}, #{item.wpdf_name}, #{item.wpdf_class}, #{item.wpdf_trans})
		</foreach>
	</insert>
	<select id="wordpdfview" resultType="com.docedu.web.user.vo.WordpdfVO">
		select DISTINCT wpdf_name, wpdf_seq, wpdf_header, wpdf_trans, wpdf_class from wordpdf Where wpdf_header = #{wpdf_header};
	</select>
	<select id="wordpdfviewList" resultType="com.docedu.web.user.vo.WordpdfVO">
		select distinct wpdf_header from wordpdf;
	</select>
	<delete id="wordpdfdelete">
		delete from
			wordpdf
		where
			wpdf_header = #{wpdf_header};
	</delete>
	
	<select id="wordpdfrandomize" parameterType="hashmap" resultType="com.docedu.web.user.vo.WordpdfVO">
		SELECT DISTINCT wpdf_name, ROWNUM, wpdf_seq, wpdf_header, wpdf_trans, wpdf_class
		FROM
			(SELECT @ROWNUM:=@ROWNUM+1 AS ROWNUM, wpdf_seq, wpdf_header, wpdf_name, wpdf_trans, wpdf_class
			FROM edu.wordpdf, (SELECT @ROWNUM:=0) AS R
			WHERE wpdf_header = #{wpdf_header}) AS N
		WHERE ROWNUM BETWEEN #{start} AND #{end}
		ORDER BY RAND(4321)
	</select>
	
	<insert id="insertRandom" parameterType="hashmap">
		INSERT INTO edu.wordpdf
			(wpdf_header, wpdf_name, wpdf_trans, wpdf_class)
		VALUES
			(CONCAT(#{wpdf_header}, '-1'), #{wpdf_name}, #{wpdf_trans}, #{wpdf_class})
	</insert>
</mapper>